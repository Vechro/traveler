static_resources:
  listeners:
  - name: listener_0
    address:
      socket_address:
        address: 0.0.0.0
        port_value: 10000
    filter_chains:
    - filters:
      - name: envoy.filters.http.jwt_authn
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.filters.http.jwt_authn.v3.JwtAuthentication
          providers:
            oidc_provider:
              issuer: my_issuer_name
              audiences:
                - audience_to_validate
              forward: 'true'
              remote_jwks:
                http_uri:
                  uri: https://my.provider/jwks_url
                  cluster: identity_provider
                  timeout: 5s
                cache_duration:
                  seconds: 300
          rules:
            - match: { prefix: /hello }
              requires:
                provider_name: oidc_provider
          bypass_cors_preflight: 'true'